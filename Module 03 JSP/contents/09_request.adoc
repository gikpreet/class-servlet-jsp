= request 객체

* 클라이언트가 전송한 요청 정보
* 클라이언트와 서버에 대한 정보를 읽을 때 사용
* 클라이언트가 전송한 요청 파라미터에 대한 정보를 읽을때 사용
* 요청 헤더 및 쿠키 정보를 읽을 때 사용

---

request 객체는 클라이언트(웹 브라우저)가 요청한 요청 정보를 저장하는 객체로, 가장 많이 사용되는 객체 중 하나입니다. request 객체를 사용하여 서버의 정보, 클라이언트의 정보, 클라이언트가 전송한 요청 파라미터와 헤더, 쿠키 정보에 액세스 할 수 있습니다.

== 클라이언트/서버 환경 정보

requst 객체의 메소드를 호출하여 클라이언트와 서버의 정보에 액세스 할 수 있습니다.

[%header, cols="1,1,3"]
|===
|메소드|return type|설명
|getRemoteAddr()|String |웹 서버에 연결한 Client의 IP 주소
|getContentLength()|long|클라이언트가 전성환 request정보의 길이(알 수 없는 경우 -1)
|getCharCharacterEncoding()|String|클라이언트가 request를 보낼 때 사용한 캐릭터 인코딩
|getContentType()|String|클라이언트가 request를 보낼 때 사용한 Content Type
|getProtocol()|String|클라이언트가 request한 프로토콜
|getMethod()|String|클라이언트가 정보를 요청할 때 사용한 방식
|getRequestURI()|String|클라이언트가 요청한 URL 경로
|getContextPath()|String|JSP 페이지가 속한 웹 애플리케이션의 컨텍스트 경로
|getServerName()|String|접속한 서버 이름
|getServerPort()|int|서버가 실행중인 포트 번호
|===

== 클라이언트가 전송한 요청 파라미터 정보

request 객체의 메소드를 호출하여 클라이언트가 전송한 요청 파라미터 정보에 액세스 할 수 있습니다.
[%header, cols="2,1,5"]
|===
|메소드|return type|설명
|getParameter(String name)|String|메소드 파라미터 값과 일치하는 파라미터의 값을 return
|getParameterValues(String name)|String[]|메소드 파라미터 값과 일치하는 모든 파라미터의 값을 String 배열로 return
|getParameterNames()|java.util.Enumeration|클라이언트가 전송한 파라미터 이름 목록을 return
|getParameterMap()|java.util.Map()|클라이언트가 전송한 파라미터의 이름-값을 Map으로 return
|===


http://localhost:8080/lab3-2/bookdetail.jsp?isbn=1 와 같은 쿼리스트링(GET 방식) 형식으로 전달받은 파라미터의 값은 아래와 같은 코드로 액세스 할 수 있습니다.

[source, java]
----
String isbn = request.getParameter("isbn");
----

== HTTP 메시지 헤더

request 객체의 메소드를 호출하여 HTTP 메시지의 헤더를 읽을 수 있습니다.

[%header, cols="2,1,3"]
|===
|메소드|return type|설명
|getHeader(String name)|String|지정한 이름의 헤더 값을 return
|getHeaders(String name)|java.util.Enumeration|지정한 이름의 헤더 목록을 return
|getHeaderNames()|java.util.Enumeration|모든 헤더의 이름을 return
|getIntHeader(String name)|int|지정한 헤더의 값을 정수로 return
|getDateHeader(String name)|long|지정한 헤더의 값을 시간 값으로 return
|===

아래와 같은 코드로 모든 HTTP 메시지 헤더를 읽을 수 있습니다.

[source, java]
----
Enumeration<String> headers = request.getHeaderNames();
while(headers.hasMoreElements()) {
    String headerName = headers.nextElement();
    Enumeration<String> header = request.getHeaders(headerName);
    while(header.hasMoreElements()) {
        out.print(headerName);
        out.print(": ");
        out.print(header.nextElement());
        out.print("<br />");
    }
}
----

link:./08_implicit_object.adoc[이전: JSP 내장 객체] +
link:./10_http_method.adoc[다음:HTTP method]